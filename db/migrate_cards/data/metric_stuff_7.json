{
  "url": null,
  "timestamp": "2016-03-23 19:02:38 +0000",
  "card": {
    "name": "export",
    "type": "Pointer",
    "content": "[[export]]\n[[Metric short view]]\n[[Metric value+*type+*structure]]\n[[new value+*right+*structure]]\n[[metric header small+*right+*structure]]\n[[metric details+*right+*structure]]\n[[source+*type+*Structure]]\n[[source with preview]]\n[[source without note count]]\n[[metric value source form]]\n[[metric company add value]]\n[[metric value company view]]\n[[metric view test]]\n[[default add metric value]]\n[[style wikirate metrics]]\n[[style: wikirate bootstrap common]]\n[[style: source preview]]\n[[script: rating]]\n[[plain_source_form]]\n[[metric details metric header+*right+*structure]]",
    "value": [
      {
        "name": "export",
        "type": "Pointer",
        "content": "[[export]]\n[[Metric short view]]\n[[Metric value+*type+*structure]]\n[[new value+*right+*structure]]\n[[metric header small+*right+*structure]]\n[[metric details+*right+*structure]]\n[[source+*type+*Structure]]\n[[source with preview]]\n[[source without note count]]\n[[metric value source form]]\n[[metric company add value]]\n[[metric value company view]]\n[[metric view test]]\n[[default add metric value]]\n[[style wikirate metrics]]\n[[style: wikirate bootstrap common]]\n[[style: source preview]]\n[[script: rating]]\n[[plain_source_form]]\n[[metric details metric header+*right+*structure]]"
      },
      {
        "name": "metric short view",
        "type": "HTML",
        "content": "<div class=\"row\">\r\n  {{+metric header small}}\r\n  {{+metric details}}\r\n  {{+metric value|timeline}}\r\n</div>"
      },
      {
        "name": "Metric value+*type+*structure",
        "type": "HTML",
        "content": "<h5 class=\"no-bold-text text-center\">{{_|name}}</h5>\r\n<!--<hr>-->\r\n<div class=\"col-md-12\">\r\n  <!--<div class=\"row\">-->\r\n  <!--  <div class=\"timeline container\">-->\r\n  <!--    <div class=\"timeline-body\">-->\r\n  <!--      <div class=\"pull-left timeline-data\">-->\r\n  <!--        <div class=\"timeline-header\">-->\r\n  <!--          <div class=\"th year\">Year</div>-->\r\n  <!--          <div class=\"th value\">Value</div>-->\r\n  <!--        </div>-->\r\n  <!--      </div>-->\r\n  <!--    </div>-->\r\n  <!--  </div>  -->\r\n   \r\n  <!--</div>-->\r\n  {{+value|timeline row}}\r\n  <!--<div class=\"row\">-->\r\n  <!--  <hr>-->\r\n    <!--<h4 class=\"no-bold-text\">Sources</h4>-->\r\n    {{#_+source|hide:paging,title;|content;structure:source item}}\r\n    <!--<a class=\"btn btn-sm btn-default\" href=\"/{{_+source|linkname}}?view=edit&slot[items][structure]=source_item&item=content\">Add new Source</a>-->\r\n<!--  </div>-->\r\n<!--</div>-->\r\n\r\n<!--<div class=\"col-md-12\">-->\r\n<!--  <div class=\"row\">-->\r\n<!--  <hr>-->\r\n  {{#_+Discussion|titled;title:Discussion;show:comment_box,menu}}\r\n<!--  </div>-->\r\n</div>"
      },
      {
        "name": "new value+*right+*structure",
        "type": "HTML",
        "content": "\r\n\r\n<div class=\"col-md-6 border-right panel-default\">\r\n\r\n  <h4>Company</h4>\r\n  <hr>\r\n  {{_lr|titled;content;structure:metric value company view}}\r\n  <hr>\r\n  <h4>Metrics</h4>\r\n  <hr>\r\n  {{_l|content;structure:metric short view}}\r\n</div>\r\n<div id=\"source-preview-main\" class=\"col-md-6 nopadding panel-default stick-right \">\r\n\r\n  <div id=\"source-form-container\"></div>\r\n  <!--<div id=\"source-preview-container\"></div>-->\r\n</div>\r\n"
      },
      {
        "name": "metric header small+*right+*structure",
        "type": "HTML",
        "content": "<div class=\"metric-details-header col-md-12 col-xs-12\">\r\n  <div class=\"row\">\r\n    <div class=\"row-icon no-icon-bg padding-top-10\">\r\n      \t<a class=\"pull-left editor-image inherit-anchor\" href=\"{{_lllr+_llr|url}}\">\r\n            {{_lllr+image|size:small}}\t\t\r\n        </a>\r\n    </div>\r\n    <div class=\"row-data\">\r\n      \t<h4 class=\"metric-color\">\r\n  \t\t\t\t\t<a class=\"inherit-anchor\" href=\"{{_lllr+_llr|url}}\">{{_llr|name}}</a>\t\r\n  \t\t\t</h4>\r\n    </div>\r\n  </div>\r\n</div>"
      },
      {
        "name": "metric details+*right+*structure",
        "type": "HTML",
        "content": "\r\n<div class=\"metric-info\">\r\n  <div class=\"col-md-10\">\r\n    <div class=\"row metric-details-question\">\r\n      <div class=\"row-icon padding-top-10\">\r\n        <i class=\"fa fa-question-circle fa-lg\"></i>\r\n      </div>\r\n      <div class=\"row-data padding-top-10\">\r\n        {{_lllr+_llr+question|core}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"col-md-2\">\r\n   <button class=\"btn btn-default btn-sm pull-right margin-top-10\" data-toggle=\"collapse\" data-target=\"#methodology-info\"><small>View Methodology</small></button>\r\n  </div>\r\n  \r\n  <div class=\"col-md-12\">\r\n    <div id=\"methodology-info\" class=\"collapse\">\r\n        <div class=\"row\"><small><strong>Methodology </strong>{{_lllr+_llr+Methodology|content;|link}}</small></div>\r\n        <div class=\"row\">\r\n          <div class=\"row-icon\">\r\n            <i class=\"fa fa-tag\"></i>\r\n          </div>\r\n          <div class=\"row-data\">\r\n            {{_lllr+_llr+topics|content|link}}\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n"
      },
      {
        "name": "Source+*type+*structure",
        "type": "HTML",
        "content": "<div class=\"col-md-12 new-source-widget\">\r\n  <div class=\"row\">\r\n    <div class=\"new-source-tab\">\r\n      <ul id=\"myTab\" class=\"nav nav-pills\" role=\"tablist\">\r\n        <li role=\"presentation\" class=\"active\">\r\n          <a href=\"#url\" id=\"url-tab\" role=\"tab\" data-source-type='Link' data-toggle=\"tab\" aria-controls=\"url\" aria-expanded=\"true\"><i class=\"fa fa-globe\"></i> URL</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#file\" role=\"tab\" id=\"file-tab\" data-toggle=\"tab\" data-source-type='File' aria-controls=\"file\" aria-expanded=\"false\"><i class=\"fa fa-upload\"></i> File</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#text\" role=\"tab\" id=\"text-tab\" data-toggle=\"tab\" data-source-type='Text' aria-controls=\"text\" aria-expanded=\"false\"><i class=\"fa fa-pencil\"></i> Report</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <br>\r\n    <div id=\"myTabContent\" class=\"tab-content\">\r\n      <div role=\"tabpanel\" class=\"tab-pane fade active in\" id=\"url\" aria-labelledby=\"url-tab\">\r\n        {{+Link|titled; title:URL}}\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"file\" aria-labelledby=\"file-tab\">\r\n        {{+File|titled; title:File}}\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"text\" aria-labelledby=\"text-tab\">\r\n        {{+Text|titled; title:Text}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" style=\"display:none\">\r\n    <div class=\"first-meta tab-content\">\r\n      <button type=\"button\" class=\"btn btn-default btn-xs\" id=\"suggest_button\">Suggest Title and Description</button>\r\n      {{+Title|titled; title:Title}} {{+Description|titled;title:Description}}\r\n      <div class=\"row-data first-meta\" >\r\n        <a id=\"add-company-and-topic\" href=\"#\">\r\n          <i class=\"fa fa-building-o\"></i>Add Company\r\n        </a>\r\n      </div>\r\n      \r\n      <div id=\"company-topic-meta\" style=\"display:none;\">\r\n        {{+Companies|titled; title:Companies|link}}\r\n      </div>\r\n      \r\n      <div class=\"row-data first-meta\" >\r\n       <a href=\"#\" id=\"add-tags-other\">\r\n          <i class=\"fa fa-tag\"></i>Add Topic, Date and other\r\n        </a>\r\n      </div>\r\n      \r\n      \r\n      <div id=\"tag-date-others-meta\" style=\"display:none;\">\r\n        {{+Topics|titled; title:Topics|link}} {{#+Tags|titled;title:Tags; item:link}} {{+Date|titled;title:Date}} {{+Website|titled;title:Website|link}}\r\n      </div>\r\n    \r\n    </div>\r\n  </div>\r\n  <div style='display:none;'>{{+*source type}}</div>\r\n</div>"
      },
      {
        "name": "source with preview",
        "type": "HTML",
        "content": "<div class=\"source-info-container with-vote-button\">\r\n{{_|content;structure:source without note count}}\r\n<div class=\"pull-right \"><a class=\"btn btn-highlight _cite_button\">Cite!</a></div>\r\n</div>"
      },
      {
        "name": "source without note count",
        "type": "HTML",
        "content": "{{_+*vote count}}\r\n<div class=\"item-content\">\r\n  <div class=\"fa fa-times-circle remove-source\" style=\"display:none\"></div>\r\n  <div class=\"source-icon fa fa-globe fa-lg\"></div>\r\n  <div class=\"item-summary pull-left nopadding\">\r\n     {{_|content;structure:source link}}\r\n    <div class=\"last-edit\"> \r\n       {{_|structure:creator credit}}\r\n    </div>\r\n  </div>\r\n</div>"
      },
      {
        "name": "metric value source form",
        "type": "HTML",
        "content": "<div class=\"row\">\r\n  <br><br><br><br>\r\n  <div class=\"col-md-6 col-centered text-center light-grey-color-2\">\r\n    <p>\r\n      Source Preview Container\r\n    </p>\r\n    <p>\r\n      You can add or select a source from the metric form to preview here\r\n    </p>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"col-md-12 col-centered new-source-widget new-metric-value-page\">\r\n  <div class=\"row\">\r\n    <div class=\"new-source-tab\">\r\n      <ul id=\"myTab\" class=\"nav nav-pills\" role=\"tablist\">\r\n        <li role=\"presentation\" class=\"active\">\r\n          <a href=\"#url\" id=\"url-tab\" role=\"tab\" data-source-type='Link' data-toggle=\"tab\" aria-controls=\"url\" aria-expanded=\"true\"><i class=\"fa fa-globe\"></i> URL</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#file\" role=\"tab\" id=\"file-tab\" data-toggle=\"tab\" data-source-type='File' aria-controls=\"file\" aria-expanded=\"false\"><i class=\"fa fa-upload\"></i> File</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#text\" role=\"tab\" id=\"text-tab\" data-toggle=\"tab\" data-source-type='Text' aria-controls=\"text\" aria-expanded=\"false\"><i class=\"fa fa-pencil\"></i> Report</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div id=\"myTabContent\" class=\"tab-content\">\r\n      <div role=\"tabpanel\" class=\"tab-pane fade active in\" id=\"url\" aria-labelledby=\"url-tab\">\r\n        {{+Link|titled; title:URL}}\r\n      <input type=\"hidden\" value=\"true\" name=\"sourcebox\">\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"file\" aria-labelledby=\"file-tab\">\r\n        {{+File|titled; title:File}}\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"text\" aria-labelledby=\"text-tab\">\r\n        {{+Text|titled; title:Text}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div  class=\"row \">\r\n    <div id=\"source-preview-frame\"></div>\r\n  </div>\r\n  <div class=\"row\" style=\"display:none\">\r\n    <div class=\"first-meta tab-content\">\r\n      <button type=\"button\" class=\"btn btn-default btn-xs\" id=\"suggest_button\">Suggest Title and Description</button>\r\n      {{+Title|titled; title:Title}} {{+Description|titled;title:Description}}\r\n      <div class=\"row-data first-meta\" >\r\n        <a id=\"add-company-and-topic\" href=\"#\">\r\n          <i class=\"fa fa-building-o\"></i>Add Company\r\n        </a>\r\n      </div>\r\n      \r\n      <div id=\"company-topic-meta\" style=\"display:none;\">\r\n        {{+Companies|titled; title:Companies|link}}\r\n      </div>\r\n      \r\n      <div class=\"row-data first-meta\" >\r\n       <a href=\"#\" id=\"add-tags-other\">\r\n          <i class=\"fa fa-tag\"></i>Add Topic, Date and other\r\n        </a>\r\n      </div>\r\n      \r\n      \r\n      <div id=\"tag-date-others-meta\" style=\"display:none;\">\r\n        {{+Topics|titled; title:Topics|link}} {{#+Tags|titled;title:Tags; item:link}} {{+Date|titled;title:Date}} {{+Website|titled;title:Website|link}}\r\n      </div>\r\n    \r\n    </div>\r\n  </div>\r\n  <div style='display:none;'>{{+*source type}}</div>\r\n</div>"
      },
      {
        "name": "metric company add value",
        "type": "HTML",
        "content": "<!--<div class='fluid-container'>-->\r\n<!--  <div class=\"row\">-->\r\n<!--    <div class=\"col-xs-2\">-->\r\n      {{#+year|title: Year}}       \r\n    <!--</div>-->\r\n    <!--<div class=\"col-xs-10\">-->\r\n      {{#+value|title: Value}}\r\n<!--    </div>-->\r\n<!--  </div>-->\r\n<!--</div>-->\r\n\r\n{{#+source|title: Source}}\r\n\r\n<!--<div class=\"timeline-row\">-->\r\n  <div class=\"td year\">\r\n      {{+year|title: Year}}       \r\n  </div>\r\n  <div class=\"td value\">\r\n      <span class=\"metric-value\">\r\n       {{+value|title: Value}}\r\n      </span>\r\n      {{+discussion|title:Comment;new_comment}}\r\n      <div class=\"hide\">{{#+source}}</div>\r\n      <h5>Choose Sources or <a class=\"btn btn-sm btn-default _add_new_source\"><small><span class=\"icon icon-wikirate-logo-o fa-lg\" aria-hidden=\"true\"></span> Add a new source</small></a></h5>\r\n      \r\n      <div class=\"relevant-sources\">\r\n        None\r\n      </div>\r\n      <h5>Cited Sources</h5>\r\n      <div class=\"cited-sources\">\r\n        None\r\n      </div>\r\n\r\n  </div>\r\n<!--</div>-->"
      },
      {
        "name": "metric value company view",
        "type": "HTML",
        "content": "\r\n<div class=\"metric-details-company-header\">\r\n  <div class=\"row clearfix\">\r\n          <div class=\" image-box pull-left\">\r\n            <a class=\"inherit-anchor\" href=\"{{_llll|url}}\">\r\n              {{_+image}}\r\n            </a>\r\n          </div>\r\n          <div class=\"company-name  \">\r\n            <a class=\"inherit-anchor\" href=\"{{_llll|url}}\">\r\n              {{_|name}}\r\n            </a>\r\n          </div>\r\n  </div>\r\n</div>  "
      },
      {
        "name": "metric view test",
        "type": "HTML",
        "content": "<div class=\"col-md-6 border-right\">\r\n<h4>Company</h4>\r\n<hr>\r\n{{Teradata|titled;content;structure:metric value company view}}\r\n<hr>\r\n<h4>Metrics</h4>\r\n<hr>\r\n{{Amnesty International+Conflict Minerals Report+Teradata|content;structure:metric short view}}\r\n</div>\r\n<div class=\"col-md-6\">\r\n<h4> source preview</h4>\r\n</div>\r\n"
      },
      {
        "name": "default add metric value",
        "type": "HTML",
        "content": "\r\n<div class=\"col-md-6 border-right\">\r\n  <!--<h4>Company</h4>-->\r\n  <!--<hr>-->\r\n    {{+company|title:Company}}\r\n  <!--<hr>-->\r\n  <!--<h4>Metrics</h4>-->\r\n  <hr>\r\n\t  {{+metric|title:Metric}}\r\n  <hr>\r\n  <div class=\"timeline container\">\r\n    <div class=\"timeline-body\">\r\n      <div class=\"pull-left timeline-data\">\r\n        <div class=\"timeline-row metric_value_form_container\">\r\n          <div class=\"td col-md-2\">\r\n              {{+year|title:Year}}       \r\n          </div>\r\n          <div class=\"td value col-md-10\">\r\n              <span class=\"metric-value\">\r\n               {{+value|title:value}}\r\n              </span>\r\n              {{+discussion}}\r\n          </div>\r\n        </div>      \r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"col-md-6\">\r\n  <h4> source preview</h4>\r\n  {{+source}}\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"
      },
      {
        "name": "style wikirate metrics",
        "type": "SCSS",
        "content": "$dark-text-color: #999;\r\n$bright-text-color: #ededed;\r\n\r\n$metric-color: #674ea7;\r\n$company-color: #d3741c;\r\n$topic-color: #2b7ea0;\r\n\r\n$company-header-bg: #d3741c;\r\n\r\n@mixin box-shadow($x: 2px, $y: 2px, $blur: 5px, $color: rgba(0,0,0,.4), $inset: \"\") {\r\n  @if ($inset != \"\") {\r\n    -webkit-box-shadow: $inset $x $y $blur $color;\r\n    -moz-box-shadow:    $inset $x $y $blur $color;\r\n    box-shadow:         $inset $x $y $blur $color;\r\n  } @else {\r\n    -webkit-box-shadow: $x $y $blur $color;\r\n    -moz-box-shadow:    $x $y $blur $color;\r\n    box-shadow:         $x $y $blur $color;\r\n  }\r\n}\r\n.height-auto{\r\n  height:auto!important;\r\n}\r\n.inherit-anchor{\r\n text-decoration: none;\r\n color:inherit!important;\r\n :hover{\r\n    text-decoration: none;\r\n    color:inherit;\r\n }\r\n}\r\n\r\n@mixin ellipsis() {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n\r\n\r\n/*Common styles and classes*/\r\n\r\n.no-data-on-missing-view{\r\n  .missing-view a {\r\n      display: none;\r\n  }\r\n  \r\n   .missing-view:before {\r\n      content: \"\";\r\n      color: #F5BABA;\r\n      font-size:13px;\r\n  }\r\n}\r\n\r\n.no-hover:hover {\r\n    background-color: inherit!important;\r\n    cursor: inherit!important;\r\n}\r\n\r\n\r\n\r\n.company-header{\r\n  color: $company-color;\r\n  border-top: 3px solid $company-color;\r\n  font-size: 18px;\r\n  border-bottom: 1px solid $bright-text-color;\r\n  background: #FDFDFD;\r\n  padding: 2px 0px 0px 0px;\r\n}\r\n\r\n.topic-header{\r\n  color: $topic-color;\r\n  border-top: 3px solid $topic-color;\r\n  font-size: 14px;\r\n  border-bottom: 1px solid $bright-text-color;\r\n  padding: 2px 0px 0px 0px;\r\n  background: #FDFDFD;\r\n   @include ellipsis();\r\n   .topic-title {\r\n    padding: 0px 0px 25px 10px;\r\n    }\r\n}\r\n\r\n/*Common styles and classes ENDS*/\r\n\r\n.SELF-homepage_company{\r\n  .pointer-item{\r\n    float:left;\r\n  }\r\n  \r\n}\r\n\r\n.custom-child-column-2>.col-md-2 {\r\n    width: 20.0001%;\r\n}\r\n\r\n.homepage-company-item, .homepage-topic-item{\r\n  max-width: 520px;\r\n  @include box-shadow(0,1px,6px,rgba(0,0,0,.13));\r\n  border: 1px solid $bright-text-color;\r\n  padding-bottom: 40px;\r\n  background-color: #fff;\r\n  .header-row {\r\n    font-size: 10px;\r\n    color: #bebebe;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n    .header-header {\r\n      float: left;\r\n      margin-left: 80px;\r\n    }\r\n    .data-header {\r\n      width: 146px;\r\n      float: right;\r\n      margin-right: 15px;\r\n    }\r\n  }\r\n}\r\n.browse-company-item, .browse-topic-item{\r\n  width: 100%;\r\n}\r\n.browse-company-item, .browse-topic-item {\r\n  border: 1px solid $bright-text-color;\r\n  margin: 12px;\r\n  @include box-shadow(0,1px,6px,rgba(0,0,0,.13));\r\n  .company-content{\r\n    height: 281px;\r\n   .left{\r\n     \r\n   }\r\n   .right{\r\n     background: #f7f7f7;\r\n     height:100%;\r\n       overflow: hidden;// remove after limiting \r\n   }\r\n  }\r\n  .yinyang-row .value-item .header {\r\n    cursor: pointer;\r\n  }\r\n  .metric-column-title{\r\n      width: 100%;\r\n      float: left;\r\n      padding-top: 5px;\r\n      color: #B2B2B2;\r\n  }\r\n    .header-row {\r\n    font-size: 10px;\r\n    color: #bebebe;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n    .header-header {\r\n      float: left;\r\n      margin-left: 80px;\r\n    }\r\n    .data-header {\r\n      width: 146px;\r\n      float: right;\r\n      margin-right: 15px;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n.STRUCTURE-browse_company_item .company-header{\r\n   @include ellipsis();\r\n}\r\n\r\n.STRUCTURE-homepage_company_item,.STRUCTURE-browse_company_item, .STRUCTURE-browse_topic_item , .company-page-logo-container  {\r\n  .contribution-details{\r\n    display:none;\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: -107px;\r\n    .number-small {\r\n      border-right: 1px solid $bright-text-color;\r\n      border-bottom: 1px solid $bright-text-color;\r\n    }\r\n    a{\r\n      text-decoration:none;\r\n      &:hover{\r\n        text-decoration:none;\r\n      }\r\n    }\r\n    .row {\r\n      padding: 0;\r\n      margin: 0px;\r\n    }\r\n    .row > div {\r\n      padding: 0;\r\n      &:hover{\r\n        background:#fafafa;  \r\n      } \r\n    }\r\n  }\r\n  :hover .contribution-details{\r\n    display:block;\r\n  }\r\n  :hover .contribution-count{\r\n    display:none;\r\n  }\r\n}\r\n\r\n\r\n.center-logo{\r\n  border-right: 1px solid $bright-text-color;\r\n  >div {\r\n    height: 176px;\r\n    width: 100%;\r\n    overflow: hidden;\r\n    padding: 20px;\r\n    text-align: center;\r\n    }\r\n    .missing-view {\r\n      padding:0;\r\n      img {\r\n          width: 101%;\r\n          margin-left: -1px;\r\n      }\r\n    }\r\n    img{\r\n      position: relative;\r\n      top: 50%;\r\n      -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n      transform: translateY(-50%);\r\n    }\r\n}\r\n\r\n\r\n.metric-source .tab-content {\r\n  background: #fffefa;\r\n  padding: 30px;\r\n}\r\n\r\n.form .metric-value-year {\r\n  width: 135px;\r\n}\r\n.form .metric-value-value {\r\n  width: 200px;\r\n}\r\n\r\n\r\n.label-metric {\r\n  background: $metric-color;\r\n  color: white;\r\n  a {\r\n    font-weight: normal;\r\n    color: white;\r\n  }\r\n}\r\n\r\n// metric value details\r\n.metric-year, .metric-unit {\r\n  font-size: 8px;\r\n  color: $dark-text-color;\r\n}\r\n.metric-value {\r\n  a {\r\n    color: #674ea7;\r\n  }\r\n  color: #674ea7;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n.no-metric-value {\r\n  display: none;\r\n}\r\n\r\n\r\n.timeline {\r\n  &.container{\r\n    width:auto!important; //remove container class from the code\r\n    padding:0;\r\n  }\r\n  .year {\r\n    width: 35px; \r\n  }\r\n  .timeline-header {\r\n    border-top:1px solid #eee;\r\n    .th {\r\n      float: left;\r\n      margin: 0px 10px 0px 10px;\r\n      font-weight: bold;\r\n      color:$dark-text-color;\r\n    }\r\n    .new a {\r\n      // color: $dark-text-color;\r\n      // background-color: $bright-text-color;\r\n      // border: 1px solid #cdcdcd;\r\n      // font-weight: normal;\r\n      // font-size: 0.8em;\r\n      // padding: 2px 5px 2px 5px;\r\n    }\r\n  }\r\n  .timeline-body {\r\n    width: 100%;\r\n    float: left;\r\n    .timeline-data {\r\n      width: 100%;\r\n      // margin-left: -10px;\r\n     }\r\n    .metric-year, .metric-unit {\r\n      font-size: 12px;\r\n    }\r\n    .timeline-row {\r\n        clear: both;\r\n        font-size: 12px;\r\n        width: 100%;\r\n        color: $dark-text-color;\r\n        float: left;\r\n        border-bottom: 1px solid #eee;\r\n        .form-group {\r\n          font-size: 14px;\r\n          text-align:left;\r\n        }\r\n        form>.form-group {\r\n          margin-top: -15px;\r\n          padding-top: 15px;\r\n          padding-bottom: 32px;\r\n          border-top: 1px solid #eee;\r\n          button {\r\n              float: right;\r\n              margin-right: 14px;\r\n          }\r\n    }\r\n    &:hover {\r\n      // background-color: #F3F3F3;\r\n    }\r\n    .td {\r\n      float: left;\r\n      padding: 15px 10px 10px 10px;\r\n      .metric-value {\r\n        font-size: 20px;\r\n      }\r\n    }\r\n    .credit {\r\n      padding: 10px 5px;\r\n    }\r\n    .year{\r\n        width: 20%;\r\n        text-align: center;\r\n        position: relative;\r\n      > span {\r\n          padding: 6px;\r\n          display: inline-block;\r\n      }\r\n    }\r\n    .value{\r\n      border-left: 1px solid #eee;\r\n      padding-left: 20px;\r\n      width: 80%;\r\n    }\r\n    // .year, .credit {\r\n    //   padding-top: 2px;\r\n    // }\r\n    .search-result-list {\r\n      display: inline-block;\r\n      padding: 0px;\r\n      .search-result-item {\r\n        display: inline;\r\n        padding-left: 0;\r\n      }\r\n    }\r\n    }\r\n\r\n  }\r\n  .timeline-dot {\r\n    position: absolute;\r\n    top: 30px;\r\n    right: -3px;\r\n    height: 5px;\r\n    width: 5px;\r\n    background: #444;\r\n    z-index: 10;\r\n  }\r\n  .timeline-line {\r\n    // position: absolute;\r\n    // top: 21px;\r\n    // left: 48px;\r\n    // height: 53px;\r\n    // width: 1px;\r\n    // border-left: 1px solid #CCCCCC;\r\n    // z-index: 9;\r\n  }\r\n}\r\n\r\n.RIGHT-company.card-content .company-item .item-link>a {\r\n  background: #03998d;\r\n  border-top-left-radius: 0px;\r\n  border-bottom-left-radius: 0px;\r\n}\r\n\r\n.metric-info, .metric-details-header, .metric-details-company-header {\r\n  .wiki .row {\r\n    margin-bottom: 18px;\r\n  }\r\n\r\n  .row {\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n    .row-icon {\r\n      text-align: center;\r\n      font-size: 20px;\r\n      float: left;\r\n      color: $bright-text-color;\r\n      // border: 1px solid $bright-text-color;\r\n      border-radius: 50%;\r\n      width: 35px;\r\n      height: 35px;\r\n      padding-top: 3px;\r\n    }\r\n    .glyphicon-question-mark {\r\n      font-weight: bold;\r\n    }\r\n    .row-data {\r\n      margin-left: 40px;\r\n    }\r\n  }\r\n}\r\n\r\n.metric-details-header {\r\n   .name{\r\n      font-size: 22px;\r\n      position: static;\r\n      color: $metric-color;\r\n   }\r\n   .metric-designer-info {\r\n     a {\r\n          color: inherit;\r\n      }\r\n     a>div {\r\n      float: left;\r\n      >small {\r\n          width: 65px;\r\n          display: inline-block;\r\n          text-align: right;\r\n          padding-top: 10px;\r\n          padding-right: 10px;\r\n      }\r\n\r\n     }\r\n      margin: 8px 0px;\r\n     img {\r\n        display: inline-block;\r\n        float: left;\r\n        max-height: 50px;\r\n        padding: 8px;\r\n        border: 1px solid #ebebeb;\r\n        margin: 0px 4px;\r\n    }\r\n    h3 {\r\n        margin: 10px 5px;\r\n        float: left;\r\n    }\r\n   }\r\n}\r\n\r\n.metric-details-question {\r\n  font-size: 18px;\r\n  padding: 5px 0px;\r\n}\r\n.metric-details-company-header {\r\n\r\n  .company-logo {\r\n    width: 100px;\r\n    float: left;\r\n    height: 100px;\r\n    border: 1px solid #ebebeb;\r\n    margin-left:10px;\r\n    .TYPE-image{\r\n      height:100px;\r\n      padding:4px;\r\n    }\r\n    img {\r\n       max-width: 100%;\r\n        max-height: 100px;\r\n        position: relative;\r\n        top: 50%;\r\n        -webkit-transform: translateY(-50%);\r\n        -ms-transform: translateY(-50%);\r\n        transform: translateY(-50%);\r\n    }\r\n\r\n  }\r\n  .company-name {\r\n    display: inline-block;\r\n    margin: 25px 10px;\r\n    font-size: 24px;\r\n    color:$company-header-bg;\r\n  }\r\n}\r\n.metric-details-close-icon  {\r\n    margin: 10px;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 0px;\r\n    z-index: 1;\r\n}\r\n\r\n.TYPE-metric_value {\r\n  .timeline, .RIGHT-discussion, .TYPE_PLUS_RIGHT-metric_value-source{\r\n    float: left;\r\n    width: 100%!important;\r\n    .missing-view{\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n//browse metric\r\n.browse-metric-item {\r\n  padding: 0;\r\n  margin-bottom: 6px;\r\n  outline: 1px solid $bright-text-color;\r\n  border-top: 3px solid $metric-color;\r\n  @include box-shadow(0,1px,6px,rgba(0,0,0,.13));\r\n  font-size:14px;\r\n  .RIGHT-Xvote_count > div {\r\n    line-height: 1em;\r\n  }\r\n  button.vote-button {\r\n    color: $dark-text-color;\r\n    width: 15px;\r\n    height: 15px;\r\n    padding: 0;\r\n    border: none;\r\n    box-shadow: none;\r\n    --webkit-box-shadow: none;\r\n    background: none;\r\n  }\r\n  .vote-count {\r\n    color: $dark-text-color;\r\n    width: 15px;\r\n    height: 15px;\r\n  }\r\n  .logo {\r\n    padding-top: 5px;\r\n    float: left;\r\n    img {\r\n      max-width: 35px;\r\n      max-height: 35px;\r\n      margin: 0 10px;\r\n    }\r\n  }\r\n  .header {\r\n    margin: 4px 12px;\r\n  }\r\n  .name {\r\n    padding: 12px 16px;\r\n    font-size: 21px;\r\n    float: left;\r\n    max-width: 94%;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    color: $metric-color;\r\n    a {\r\n      color: $metric-color; \r\n    }\r\n  }\r\n  .question {\r\n    height:60px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    color:$dark-text-color;\r\n }\r\n .topic{\r\n   height:38px;\r\n }\r\n}\r\n\r\n.data-count {\r\n  border-top: 1px solid $bright-text-color;\r\n  padding: 0;\r\n  text-align: center;\r\n  margin: 0px!important;\r\n  >div {\r\n      padding: 8px 0px;\r\n  }\r\n  > div:first-child {\r\n      border-right: 1px solid $bright-text-color;\r\n  }\r\n  .number-label {\r\n    font-size: 12px;\r\n    color: $dark-text-color;\r\n  }\r\n  .number {\r\n      font-size: 26px;\r\n  }\r\n  .number-small {\r\n      font-size: 14px;\r\n      padding:7px;\r\n  }\r\n  .number-large {\r\n        font-size: 26px;\r\n        height: 100px;\r\n        padding: 12%;\r\n  }\r\n}\r\n\r\n.ellipsis, .ellipsis .known-card {\r\n  max-width: 94%;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n\r\n.SELF-metric .search-result-item.item-content {\r\n  width: 32%;\r\n  padding: 10px;\r\n  display: inline-block;\r\n  min-width: 350px;\r\n}\r\n\r\n.modal-body .LTYPE_RTYPE-metric-company .timeline {\r\n  padding-top: 10px;\r\n  margin-top: 25px;\r\n  border-top: 1px dotted $metric-color;\r\n  width: 100%;\r\n}\r\n\r\n.TYPE-metric.new-view form .form-group.RIGHT-Xvote_count {\r\n  display: none;\r\n}\r\n"
      },
      {
        "name": "style: wikirate bootstrap common",
        "type": "SCSS",
        "content": "\r\n@mixin box-shadow($x: 2px, $y: 2px, $blur: 5px, $color: rgba(0,0,0,.4), $inset: \"\") {\r\n  @if ($inset != \"\") {\r\n    -webkit-box-shadow: $inset $x $y $blur $color;\r\n    -moz-box-shadow:    $inset $x $y $blur $color;\r\n    box-shadow:         $inset $x $y $blur $color;\r\n  } @else {\r\n    -webkit-box-shadow: $x $y $blur $color;\r\n    -moz-box-shadow:    $x $y $blur $color;\r\n    box-shadow:         $x $y $blur $color;\r\n  }\r\n}\r\n\r\n$metric-color: #674ea7;\r\n$company-color: #d3741c;\r\n$topic-color: #2b7ea0;\r\n$main-color: #03998d;\r\n\r\n\r\n//Text Colors\r\n.company-color{\r\n  color:$company-color;\r\n}\r\n\r\n.metric-color{\r\n  color:$metric-color;\r\n}\r\n\r\n.topic-color{\r\n  color:$topic-color;\r\n}\r\n\r\n.main-color{\r\n color:$main-color;  \r\n}\r\n\r\n.white-text{\r\n  color:#fff;\r\n}\r\n\r\n.dark-grey-color{\r\n  color: #333;  \r\n}\r\n\r\n.light-grey-color{\r\n color:#ccc;  \r\n}\r\n\r\n.light-grey-color-2{\r\n color:#999;  \r\n}\r\n\r\n//Text adjustments\r\n\r\n.text-align-left{\r\n  text-align:left;\r\n}\r\n\r\n.text-align-right{\r\n  text-align:right;\r\n}\r\n\r\n.no-bold-text{\r\n font-weight:normal; \r\n}\r\n\r\n.remove-text-decoration a{\r\n text-decoration :none!important;\r\n}\r\n\r\n\r\n//Common adjustments \r\n.float-right{\r\n  float:right;  \r\n}\r\n\r\n.nopadding {\r\n   padding: 0 !important;\r\n   margin: 0 !important;\r\n}\r\n\r\n.margin-12{\r\n  margin:12px;\r\n}\r\n.margin-top-10{\r\n  margin-top: 10px;\r\n}\r\n.margin-top-20{\r\n  margin-top: 20px;\r\n}\r\n\r\n.margin-top-50{\r\n  margin-top: 50px;\r\n}\r\n\r\n.margin-top-80{\r\n  margin-top:80px;\r\n}\r\n\r\n.margin-left-10 {\r\n    margin-left: 10px;\r\n}\r\n\r\n.padding-top-10{\r\n  padding-top:10px!important;\r\n}\r\n\r\n.padding-top-50{\r\n  padding-top:50px!important;\r\n}\r\n\r\n.padding-top-20{\r\n  padding-top:20px!important;\r\n}\r\n\r\n//Div alignments \r\n\r\n\r\n.stick-right {\r\n    position: fixed;\r\n    max-width: 608px;\r\n    top: 68px;\r\n    left: 50%;\r\n}\r\n\r\n\r\n//background and borders\r\n\r\n.background-white{\r\n  background-color:#fff;\r\n}\r\n\r\n\r\n.border-left {\r\n    border-left: 1px solid #e5e5e5;\r\n}\r\n\r\n.border-bottom {\r\n    border-bottom: 1px solid #e5e5e5;\r\n}\r\n.border-top {\r\n    border-top: 1px solid #e5e5e5;\r\n}\r\n\r\n.double-border-fix-left {\r\n    margin-left: -1px;\r\n}\r\n\r\n//custom column \r\n.col-md-3-5{\r\n  width:25.666%;\r\n  float:left;\r\n}\r\n\r\n.col-centered{\r\n    float: none;\r\n    margin: 0 auto;\r\n}\r\n\r\n\r\n//images\r\n\r\n.image-box.medium{\r\n    width: 94px;\r\n    height: 94px;\r\n}\r\n\r\n.image-box.small{\r\n    width: 64px;\r\n    height: 64px;\r\n    line-height: 50px;\r\n}\r\n\r\n.image-box.icon{\r\n    width: 32px;\r\n    height: 32px;\r\n    line-height: 16px;\r\n}\r\n.image-box {\r\n    width: 94px;\r\n    height: 94px;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    padding: 5px;\r\n    border: 1px solid #EEE;\r\n    background-color: #F8F9FA;\r\n    line-height: 80px;\r\n    vertical-align: middle;\r\n    margin-right: 18px;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.homepage-lead{\r\n          font-weight:300;\r\n          margin-bottom: 20px;\r\n          line-height: 1.4;\r\n          font-size: 30px;\r\n          color: #868686;\r\n}\r\n        \r\n.modal-body>div {\r\n    display: inline-block;\r\n    width: 100%;\r\n    .menu-slot{\r\n      z-index: 1;\r\n    }\r\n}\r\n\r\n//Ajax loader animation\r\n\r\n#ajax_loader{\r\n  display:none;\r\n}\r\n\r\n.loader-anime {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0px;\r\n    left: 0px;\r\n    z-index: 999;\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n     .anime {\r\n           position: absolute;\r\n           left: 50%; \r\n           top: 30%;\r\n           margin-left: -20px;\r\n      }\r\n}\r\n\r\n.edits-by {\r\n  // border-bottom: 1px solid $div-border-color;\r\n  font-size: 0.8em;\r\n  margin-bottom: 5px;\r\n  color: #ccc;\r\n  .subtitle-header {\r\n    float: left;\r\n    padding-right: 6px;\r\n  }\r\n  a {\r\n    color: #ABABAB;\r\n  }\r\n}\r\n\r\n.panel-default {\r\n  border-color: #EFEFEF;\r\n  // margin-bottom: -2px;\r\n\r\n     > .panel-heading {\r\n      background-image: none;\r\n      \r\n    }\r\n     > .panel-heading {\r\n      color: #333;\r\n      background-color: #f5f5f5;\r\n      border-right: 1px solid rgba(0, 0, 0, 0.05);\r\n      padding: 10px;\r\n    }\r\n}\r\n\r\n.panel-primary-container>.card-slot>{\r\n    .menu-slot>.vertical-card-menu.show-on-hover .btn-group.slotter a{\r\n      color:#fff;\r\n      &:hover{\r\n        color:#fafafa;\r\n      }\r\n    }\r\n    .panel-default>.panel-heading {\r\n        padding: 10px!important;\r\n    }\r\n    \r\n}\r\n\r\n.panel-primary-container>.card-slot>.panel-default, .panel-primary{\r\n      border-color: #eaeaea;\r\n        >.panel-heading {\r\n        color: #fff;\r\n        background-color: #03998D;\r\n        border-color: #03998D;\r\n        padding: 13px;\r\n        }\r\n}\r\n\r\n.titled-view, .titled_with_edits-view{\r\n  > .card-header {\r\n  font-size: 1.3em;\r\n  margin: 3px 0!important;\r\n  }\r\n  \r\n}\r\n\r\n.alert{\r\n  border-radius:0;\r\n}\r\n.alert-info {\r\n  background-color: rgba(3, 153, 141, 0.08);\r\n  border-color: rgba(3, 153, 141, 0.08);\r\n  color: #31708f;\r\n}\r\n.help-block {\r\n  margin-top: 5px;\r\n  margin-bottom: 0px;\r\n  color: #939090;\r\n  font-size: 11px;\r\n  width: 100%;\r\n  display: inline-block;\r\n}\r\n\r\n.navbar-inverse {\r\n    background-color: #03998D;\r\n    border-color: #03998D;\r\n    .navbar-text,.navbar-nav>li>a {\r\n      color: #fff;\r\n    }\r\n}\r\n\r\n@media (min-width: 768px){\r\n  .navbar {\r\n     border-radius: 0px; \r\n  }\r\n}\r\n\r\n.new-source-widget {\r\n    background: #FFFBE6;\r\n    border: 1px solid #EBEBEB;\r\n      .tab-content {\r\n        background: #FFFBE6;\r\n        padding: 10px 10px 0px 12px;\r\n        float: left;\r\n        width: 100%;\r\n      }\r\n      \r\n      .row-data.first-meta{\r\n          margin-top: 15px;\r\n          float: left;\r\n          width: 100%;\r\n          margin-bottom: 15px;\r\n      }\r\n      .first-meta {\r\n    \r\n        a {\r\n            color: #BDBDBD;\r\n        }\r\n        i {\r\n          margin-right: 5px;\r\n          width: 15px;\r\n        }\r\n      }\r\n}\r\n.new-source-tab {\r\n    background: #F5F5F5;\r\n    border-bottom: 1px solid #EBEBEB;\r\n}\r\n\r\n\r\n.closed-content {\r\n    font-size: 16px!important;\r\n}\r\n\r\n.drop-shadow{\r\n    @include box-shadow(0,1px,6px,rgba(0,0,0,.13));\r\n}\r\n\r\n.list-group-item {\r\n    border-radius: 3px!important;\r\n}\r\n//Close and Pin buttons on edit menu\r\na[title='cancel'],button[title='pin'] {    \r\n  background: none;\r\n}\r\n\r\n\r\n"
      },
      {
        "name": "style: source preview",
        "type": "SCSS",
        "content": "@mixin box-shadow($x: 2px, $y: 2px, $blur: 5px, $color: rgba(0, 0, 0, .4), $inset: \"\") {\r\n  @if ($inset != \"\") {\r\n    -webkit-box-shadow: $inset $x $y $blur $color;\r\n    -moz-box-shadow: $inset $x $y $blur $color;\r\n    box-shadow: $inset $x $y $blur $color;\r\n  }\r\n  @else {\r\n    -webkit-box-shadow: $x $y $blur $color;\r\n    -moz-box-shadow: $x $y $blur $color;\r\n    box-shadow: $x $y $blur $color;\r\n  }\r\n}\r\n$body_background: #ebebeb;\r\n#source-preview-page-layout {\r\n  #main {\r\n    padding: 0;\r\n    max-width: none;\r\n  }\r\n  #logo-bar {\r\n    padding: 0;\r\n    float: left;\r\n    width: 100%;\r\n    background-color: white;\r\n    border-bottom: 1px solid #a3a3a3;\r\n    @include box-shadow(0,0,6px,rgba(0,0,0,.64));\r\n    position: relative;\r\n    height: 53px;\r\n    .top-bar-icon {\r\n      float: left;\r\n      padding: 6px;\r\n    }\r\n    margin-bottom: 0;\r\n  }\r\n  .ui-draggable {\r\n    border-bottom: 1px solid #a3a3a3;\r\n    @include box-shadow(0,0,6px,rgba(0,0,0,.64));\r\n  }\r\n  #source_preview_page {\r\n    overflow: hidden;\r\n  }\r\n  div.ui-tooltip {\r\n    max-width: 400px;\r\n  }\r\n  .TYPE-note {\r\n    .source-side {\r\n      width: 100%;\r\n      padding-right: 0;\r\n      margin-left: 0;\r\n    }\r\n  }\r\n  #company-and-topic-detail-link {\r\n    border-left: 1px solid #f1f1f1;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    height: 100%;\r\n    color: #ccc;\r\n    width: 45px;\r\n    i {\r\n      padding-top: 19px;\r\n    }\r\n    &:hover {\r\n      background: #f3f3f3;\r\n      color: #acacac;\r\n    }\r\n  }\r\n  #note-success {\r\n    a,\r\n    span {\r\n      float: left;\r\n      margin: 3px;\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .no-dropdown {\r\n    display: none;\r\n  }\r\n  #company-and-topic {\r\n    float: right;\r\n    text-align: center;\r\n    padding: 14px 50px 14px 14px;\r\n    background: #fafafa;\r\n    border-left: 1px solid #f1f1f1;\r\n    border-right: 1px solid #f1f1f1;\r\n    position: relative;\r\n    .company-name,\r\n    .topic-name {\r\n      display: inline-block;\r\n      margin: 0 6px;\r\n    }\r\n  }\r\n  a#make-a-note-button {\r\n    i {\r\n      color: #fff;\r\n    }\r\n    color: #fff;\r\n  }\r\n  .nav-center {\r\n    display: inline;\r\n    position: relative;\r\n    text-align: center;\r\n    left: 25%;\r\n  }\r\n  .menu-options {\r\n    // float: right;\r\n    // width: 40%;\r\n    // min-height: 52px;\r\n    // text-align: right;\r\n    // margin: 16px 5px;\r\n    li {\r\n      display: inline;\r\n    }\r\n    div {}\r\n    .btn {\r\n      padding: 17px 22px;\r\n      margin: -3px;\r\n      color: #ADADAD;\r\n      border-color: #E8E8E8;\r\n      i {\r\n        padding-right: 5px;\r\n      }\r\n    }\r\n    #make-note {\r\n      float: right;\r\n      padding: 15px;\r\n      //margin-top: 8px;\r\n      a {\r\n        color: white;\r\n      }\r\n    }\r\n    #source-page-link {\r\n      float: right;\r\n      width: auto;\r\n      padding: 0 0 0 20px;\r\n      a {\r\n        padding: 14px 16px;\r\n        background: #fafafa;\r\n        border: 1px solid#f1f1f1;\r\n        color: #afafaf;\r\n        text-decoration: none;\r\n        width: auto;\r\n        float: left;\r\n        &:hover {\r\n          background: #f3f3f3;\r\n          color: #acacac;\r\n        }\r\n      }\r\n    }\r\n    #source-page-button {\r\n      float: left;\r\n      width: 100%;\r\n    }\r\n    #direct-link-button {\r\n      float: left;\r\n      width: 100%;\r\n    }\r\n    #mark-relevant,\r\n    #mark-irrelevant {\r\n      float: right!important;\r\n      margin: 16px 3px;\r\n    }\r\n    #note-count {\r\n      float: right;\r\n      padding: 12px;\r\n    }\r\n  }\r\n  #irrelevant-options {\r\n    a {\r\n      color: #fff;\r\n      text-decoration: none;\r\n    }\r\n    div {\r\n      float: left;\r\n      clear: both;\r\n      margin: 3px;\r\n    }\r\n  }\r\n  \r\n  .non-previewable {\r\n    background-color: $body_background;\r\n  }\r\n  .redirect-notice {\r\n    background-color: white;\r\n    text-align: center;\r\n    margin-top: 15%;\r\n    padding-top: 5%;\r\n    padding-bottom: 5%;\r\n    margin-left: 10%;\r\n    margin-right: 10%;\r\n    .item-content {\r\n      text-align: left;\r\n    }\r\n    a {\r\n      // margin: 20px;\r\n    }\r\n    .edit-source {\r\n      float: right;\r\n    }\r\n  }\r\n  /*\r\n\r\nHenry, get rid of me!!!\r\n  .new-note-button{\r\n    .create-submit-button{\r\n    width: 100%;\r\n    height: 30px;\r\n    margin-top: 14px;\r\n    }\r\n  }\r\n*/\r\n}\r\n.webpage-preview {\r\n  float: left;\r\n  background: white;\r\n  width: 100%;\r\n  @include box-shadow(5px, 6px, 15px, rgba(0, 0, 0, 0.45), inset);\r\n  border-top: 1px solid #eee;\r\n  iframe {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0;\r\n    outline: 0;\r\n  }\r\n  .TYPE_PLUS_RIGHT-source-text {\r\n    margin-top: 55px;\r\n  }\r\n}\r\n\r\n.preview-view {\r\n  .close-tab {\r\n    right: 15px;\r\n    position: fixed;\r\n    top: 66px;\r\n    cursor: pointer;\r\n    z-index: 999;\r\n  }\r\n  i {\r\n    color: #bbb!important;\r\n  }\r\n  .full-width {\r\n    width: 100%!important;\r\n  }\r\n  .source-preview-content {\r\n    margin-top: 51px;\r\n  }\r\n  .source-details-tab {\r\n    >.panel-heading {\r\n      border-bottom: 1px solid #ebebeb;\r\n      margin: 0 -30px;\r\n      padding: 15px;\r\n      position: fixed;\r\n      background-color: #fff;\r\n      width: 100%;\r\n      z-index: 99;\r\n    }\r\n  }\r\n  .source-details-sub-content {\r\n    margin-top: 60px;\r\n  }\r\n  nav.navbar.navbar-default {\r\n    margin-bottom: 0;\r\n    position: fixed;\r\n    z-index: 99999;\r\n    width: 100%;\r\n  }\r\n  .tab-pane>.open-view>.card-frame {\r\n    margin: 0 -15px;\r\n    >.card-body {\r\n      padding-top: 0;\r\n    }\r\n  }\r\n  .nav-tabs>li>a {\r\n    // margin-right: -1px;\r\n    // line-height: 1.42857;\r\n    // border: 1px solid #ebebeb;\r\n    // border-radius: 0px;\r\n    padding: 15px 18px;\r\n    // background-color: #fafafa;\r\n    margin-bottom: -1px;\r\n    // color: #666!important;\r\n    .count-number {\r\n      margin-left: 2px;\r\n    }\r\n    i {\r\n      margin: 0 6px;\r\n    }\r\n  }\r\n  // .nav-tabs>li.active > a, \r\n  // .nav-tabs>li>a:hover, \r\n  // .nav-tabs>li>a:focus{\r\n  //     background-color: #fff;\r\n  //     border-bottom-color: #fff;\r\n  // }\r\n  // .nav-tabs>li>a:hover{\r\n  //     border-bottom:1px solid #ebebeb;\r\n  // }\r\n  // .nav-tabs>li.active>a:hover{\r\n  //     border-bottom:0px solid #ebebeb;\r\n  // }\r\n  .col-1 {\r\n    width: 13px;\r\n    padding: 8px;\r\n    float: left;\r\n  }\r\n  .gray-color a {\r\n    color: #666!important;\r\n  }\r\n  .source-iframe-container {\r\n    background-color: #ebebeb;\r\n    padding-right: 0;\r\n  }\r\n  .source-right-sidebar {\r\n    @include box-shadow( -3px, 4px, 10px, rgba(0,0,0,0.15));\r\n    position: absolute;\r\n    right: 0;\r\n    border-left: 1px solid #BBBBBB;\r\n    top: 51px;\r\n    bottom: 0;\r\n    overflow-y: scroll;\r\n  }\r\n}\r\n/*all source related css classes copied from *css */\r\n.source-info-container,\r\n.STRUCTURE-source_item_preview,\r\n.STRUCTURE-source_item,\r\n.STRUCTURE-source_preview_item,\r\n#note-count {\r\n  margin-bottom: 20px;\r\n  // padding: 3px 3% 8px;\r\n  .vote-button {\r\n    width: 25px;\r\n    height: 25px;\r\n  }\r\n  .source-icon {\r\n    padding: 5px;\r\n    float: left;\r\n  }\r\n\r\n  .vote-count {\r\n    width: 25px;\r\n    height: 20px;\r\n    padding-top: 0;\r\n  }\r\n  .item-content {\r\n    background: #FFFBE6;\r\n    padding: 14px;\r\n  }\r\n  .note-count {\r\n    background-color: #fff;\r\n    padding: 5px;\r\n    float: right;\r\n    overflow: hidden;\r\n    color: #aaa;\r\n    margin-right: 2px;\r\n  }\r\n  .SELF-source_icon3 {\r\n    float: left;\r\n  }\r\n  .SELF-source_icon3 img {\r\n    background-color: inherit;\r\n    opacity: 0.5;\r\n  }\r\n  .item-summary {\r\n    margin-left: 40px;\r\n    > div {\r\n      .show-link-in-popup {\r\n        float: right;\r\n      }\r\n      div {\r\n        display: inline;\r\n        .pointer-item.item-name {\r\n          padding-left: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.source-info-container {\r\n    margin-bottom: 0px;\r\n    font-size: 12px;\r\n    background: #FFFBE6;\r\n    display: inline-block;\r\n    width: 100%;\r\n    &.with-vote-button .item-content {\r\n    padding: 16px;\r\n    }\r\n}\r\n\r\n.STRUCTURE-source_item .last-update,\r\n.STRUCTURE-source_preview_item .last-update,\r\n.STRUCTURE-note_item,\r\n.STRUCTURE-company_note_item .last-update {\r\n  color: #ccc;\r\n  font-size: 12px;\r\n}\r\n.STRUCTURE-source_preview_item {\r\n  margin-top: 20px;\r\n  div.pointer-list,\r\n  div.search-result-list {\r\n    padding: 0;\r\n  }\r\n}\r\n.STRUCTURE-source_item,\r\n.STRUCTURE-source_preview_item {\r\n  .last-update {\r\n    float: left;\r\n    margin-top: 5px;\r\n  }\r\n  .item-content {\r\n    padding: 12px;\r\n    margin-left: 40px;\r\n    overflow: hidden;\r\n  }\r\n}\r\n.STRUCTURE-note_item,\r\n.STRUCTURE-company_note_item {\r\n  .item-content {\r\n    padding: 12px;\r\n    margin-left: 40px;\r\n    overflow: hidden;\r\n    background: #fff;\r\n  }\r\n}\r\n.STRUCTURE-note_item,\r\n.STRUCTURE-source_item,\r\n.STRUCTURE-source_preview_item {\r\n  &.card-content .missing-view {\r\n    display: none;\r\n  }\r\n}\r\n.STRUCTURE-source_item .last-edit,\r\n.STRUCTURE-source_preview_item .last-edit {\r\n  margin-bottom: 10px;\r\n  color: #adadad;\r\n  font-size: 12px;\r\n  .item-link {\r\n    padding-left: 0;\r\n  }\r\n}\r\n\r\n.RIGHT-new_value.TYPE_PLUS_RIGHT-html-new_value{\r\n  padding: 0!important;\r\n}"
      },
      {
        "name": "script: rating",
        "type": "CoffeeScript",
        "content": "sortDragItems = (list, key, order='desc') ->\r\n  order = if order == 'desc' then 1 else -1\r\n  $(list).find('.yinyang-row').sortElements (a, b) -> \r\n    if $(a).data(\"sort-#{key}\") > $(b).data(\"sort-#{key}\") then -1*order else order\r\n    \r\n$(document).ready ->  \r\n    $loader_anime = $(\"#ajax_loader\").html();\r\n    \r\n    stickSourcePreview = () ->\r\n      $previewContainer = $(\"#source-preview-main\")\r\n      if $(document).scrollTop() > 56\r\n        $previewContainer.addClass 'stick-right'\r\n      else\r\n        $previewContainer.removeClass 'stick-right'\r\n      \r\n      if($(window).scrollTop() > ($(\"#main\").height()-$(window).height()+300))\r\n        $previewContainer.removeClass(\"stick-right\");\r\n        \r\n    $(window).scroll ->\r\n      if($(\"#source-preview-main\").length>0)\r\n        stickSourcePreview()\r\n          \r\n    appendSourceForm = (company)->\r\n      $source_target = $(\"#source-form-container\")\r\n      load_path_source = \"new/source?preview=true&slot[company]=\"+company\r\n      $source_target.append($loader_anime)\r\n      $.get load_path_source, ((data) ->\r\n        $sourceCntr     = $(\"#source-form-container\")\r\n        $sourceCntr.find('.source-details').addClass('hide')\r\n        $source_target.prepend(data)\r\n        wagn.initializeEditors($source_target);\r\n        $source_target.find(\".loader-anime\").remove()\r\n        return\r\n      ), 'html'\r\n              \r\n    $('body').on 'ajax:success', '[data-form-for=\"new_metric_value\"]',(event, data, c, d) ->\r\n      $container      = $(\".timeline-row .card-slot form .relevant-sources \")\r\n      $container      = $container.empty() if $container.text().search(\"None\") > 0 \r\n      sourceID        = $(data).data('source-for')\r\n      sourceInList    = \"[data-source-for='\"+sourceID+\"']\"\r\n      \r\n      if(!$(sourceInList+'.source-details-toggle').length > 0)\r\n        $sourcePreview  = $('<div>').attr('data-source-for',sourceID).addClass('source-details-toggle')\r\n        $sourcePreview.append($(data).find(\".source-info-container\").parent())\r\n        $container.append($sourcePreview)\r\n      else\r\n        $citeButton = $(sourceInList+'.source-details-toggle').find('._cite_button')\r\n        if(!$citeButton.length > 0)\r\n          $citeButton = $(sourceInList+'.source-details').find('._cite_button')\r\n          $citeButton.removeClass(\"_cite_button btn-highlight\").addClass(\"_cited_button btn-default\").text(\"Cited!\")\r\n        \r\n    $(\"body\").on 'click', '.source-details-toggle',->\r\n      $this           = $(this)\r\n      sourceID        = $this.data(\"source-for\")\r\n      sourcePreview   = \"[data-source-for='\"+sourceID+\"']\"\r\n      $sourceCntr     = $(\"#source-form-container\")\r\n      $('.source-details-toggle').removeClass('active')\r\n      $this.addClass(\"active\")\r\n      $sourceCntr.find('.source-details').addClass('hide')\r\n      $sourceCntr.find(sourcePreview).removeClass('hide')\r\n\r\n    $('body').on 'click', '._cite_button', ->\r\n      $timelineContainer  = $(\".timeline-row .card-slot form\")\r\n      $relSource          = $timelineContainer.find(\".relevant-sources\")\r\n      $citedSource        = $timelineContainer.find(\".cited-sources\")\r\n      $this               = $(this)\r\n      sourceName          = $this.closest(\".TYPE-source\").data(\"card-name\")\r\n      sourceID            = \"#\"+$this.closest(\".TYPE-source\").attr(\"id\")+\".TYPE-source:first\"\r\n      $sourceContainer    = $timelineContainer.find(sourceID).parent().detach()\r\n      $sourceFormContr    = $('#source-form-container').find(sourceID)\r\n      $hiddenInput        = $('<input>').attr('type','hidden').attr('name','card[subcards][+source][content]')\r\n      \r\n      $([$sourceFormContr.find(\"._cite_button\"),$sourceContainer.find(\"._cite_button\"), ]).each ->\r\n        $(this).removeClass(\"_cite_button btn-highlight\").addClass(\"_cited_button btn-default\").text(\"Cited!\")\r\n      \r\n      $citedSource.empty() if $citedSource.text().search(\"None\") > 0 \r\n      \r\n      $hiddenInput.attr('value','[['+sourceName+']]')\r\n      $sourceContainer.append($hiddenInput)\r\n      $citedSource.append($sourceContainer)\r\n      \r\n      $relSource.text(\"None\") if $relSource.is(':empty')\r\n\r\n    $('body').on 'click', '._add_new_source', ->\r\n      $this           = $(this)\r\n      company         = $this.closest('form').find('#card_subcards__company_content').attr('value')\r\n      appendSourceForm(company)\r\n      \r\n    $('body').on 'click', '._add_new_value', ->\r\n      $this     = $(this)\r\n      company   = $this.data(\"company\")\r\n      metric    = $this.data(\"metric\")\r\n      $target   = $this.closest('.timeline-data')\r\n      if(company && metric)\r\n              $target.append($loader_anime)\r\n              load_path = \"new/metric_value?noframe=true&slot[company]=\"+company+\"&slot[metric]=\"+encodeURIComponent(metric)\r\n              $.get load_path, ((data) ->\r\n                $template = $('<div class=\"timeline-row\"><div class=\"card-slot\"></div></div>')\r\n                $template.find('.card-slot').append(data)\r\n                $target.find(\".timeline-header\").after($template)\r\n                $this.hide()\r\n                wagn.initializeEditors($target);\r\n                $target.find(\".loader-anime\").remove()\r\n                return\r\n              ), 'html'\r\n              appendSourceForm(company)\r\n             \r\n    $('._add_new_value').trigger 'click'\r\n    \r\n    $('body').on 'click.collapse-next', '[data-toggle=collapse-next]', ->\r\n        $this     = $(this)\r\n        parent    = $this.data(\"parent\")\r\n        collapse  = $this.data(\"collapse\")+\".collapse\"\r\n        $target   = $this.closest(parent).find(collapse)\r\n  \r\n        if !$target.data('collapse')\r\n          $target.collapse('toggle').on('shown.bs.collapse', ->\r\n            $this.parent().find('.fa-caret-right ').removeClass('fa-caret-right ').addClass 'fa-caret-down'\r\n          ).on 'hidden.bs.collapse', ->\r\n            $this.parent().find('.fa-caret-down').removeClass('fa-caret-right').addClass 'fa-caret-right'\r\n    \r\n    \r\n    # vote buttons\r\n    \r\n    drop_list = (votee, vote_type) ->\r\n      $(votee).closest('.voting').find(\".list-drag-and-drop[data-bucket-name=#{vote_type}]\")\r\n    \r\n    appendDragItem = (vote_type, vote_button) ->\r\n      drag_item = $(vote_button).closest('.drag-item')\r\n      old_list = drag_item.parent()\r\n      new_list = drop_list(drag_item, vote_type)\r\n      $(new_list).append(drag_item)\r\n      updateHints(old_list, new_list)\r\n    \r\n    prependDragItem = (vote_type, vote_button) ->\r\n      drag_item = $(vote_button).closest('.drag-item')\r\n      old_list = drag_item.parent()\r\n      new_list = drop_list(drag_item, vote_type)\r\n      $(new_list).prepend(drag_item)\r\n      updateHints(old_list, new_list)\r\n    \r\n    \r\n    # no vote -> up vote\r\n    $('body').on 'click', '.list-drag-and-drop[data-bucket-name=no_vote] .drag-item .vote-up button.vote-link', ->\r\n      appendDragItem('up_vote', this)\r\n    \r\n    # down vote -> no vote\r\n    $('body').on 'click', '.list-drag-and-drop[data-bucket-name=down_vote] .drag-item .vote-up button.vote-link', ->\r\n      appendDragItem('no_vote', this)\r\n    \r\n    # up vote -> no vote\r\n    $('body').on 'click', '.list-drag-and-drop[data-bucket-name=up_vote] .drag-item .vote-down button.vote-link', ->\r\n      prependDragItem('no_vote', this)\r\n    \r\n    # no vote -> down vote\r\n    $('body').on 'click', '.list-drag-and-drop[data-bucket-name=no_vote] .drag-item .vote-down button.vote-link', ->\r\n      prependDragItem('down_vote', this)\r\n    \r\n    \r\n    # details toggle\r\n    $('body').on 'click',' .metric-item .hide-with-details', ->\r\n       $(this).siblings(\".details-toggle\").trigger(\"click\")\r\n    $('body').on 'click',\".details-toggle\", ->\r\n      toggleDetails this\r\n    $('body').on 'click',\".metric-details-toggle, .metric-details-close-icon\", ->\r\n      toggleMetricDetails this\r\n    $('body').on 'click',\".overview-details-toggle, .details-close-icon\", ->\r\n      toggleMetricDetails this\r\n    $('body').on 'click', '.yinyang-row > .header', ->\r\n      toggleDetails $(this).closest('.yinyang-row').find('.details-toggle')\r\n      \r\n    activeDetails = null;\r\n    \r\n    toggleMetricDetails = (toggle) ->\r\n      \r\n      row = $(toggle).closest('.yinyang-row')\r\n      details = $(row).find('.details')\r\n      if details.is(':visible')\r\n        #for hide_with_details in $(row).find('.hide-with-details') \r\n          #$(hide_with_details).show()\r\n        #for show_with_details in $(row).find('.show-with-details') \r\n          #$(show_with_details).hide()\r\n        details.hide()\r\n        row.find(\".value-item, .list-item\").first().removeClass(\"active\")\r\n      else if !$.trim(details.html()) # empty\r\n        loader_anime = $(\"#ajax_loader\").html();\r\n        details.append(loader_anime);\r\n        activeItem = $(\".yinyang-list .value-item:first-child.active, .search-result-list .overview-item:first-child.active\")\r\n        activeItem.find(\".details\").hide();\r\n        activeItem.removeClass(\"active\");\r\n        row.find(\".value-item, .list-item\").first().addClass(\"active\")\r\n        card_slot = $(toggle).closest('.card-slot')\r\n        card_name = card_slot.attr('id')\r\n        if card_slot.hasClass(\"LTYPE_RTYPE-metric-company\")\r\n          # to re order the card name to get the metric details\r\n          card_names = card_name.split(\"+\")\r\n          card_name = card_names[2]+\"+\"+card_names[0]+\"+\"+card_names[1]+\"+yinyang_drag_item\"\r\n        view = $(toggle).data('view') || 'content'\r\n        right_name = $(toggle).data('append') \r\n        load_path = \"/#{card_name}+#{right_name}?view=#{view}\"\r\n        details.show()\r\n        #for hide_with_details in $(row).find('.hide-with-details') \r\n          #$(hide_with_details).hide()\r\n        #for show_with_details in $(row).find('.show-with-details') \r\n          #$(show_with_details).show()\r\n        $(details).load load_path, ->\r\n          $(details).trigger('slotReady')\r\n      else\r\n        activeItem = $(\".yinyang-list .value-item:first-child.active, .search-result-list .list-item:first-child.active\")\r\n        activeItem.find(\".details\").hide();\r\n        activeItem.removeClass(\"active\");\r\n        row.find(\".value-item, .list-item\").first().addClass(\"active\")\r\n        #for hide_with_details in $(row).find('.hide-with-details') \r\n          #$(hide_with_details).hide()\r\n        #for show_with_details in $(row).find('.show-with-details') \r\n          #$(show_with_details).show()\r\n        details.show()    \r\n      activeDetails = $('.yinyang-list .value-item:first-child.active > .details,  .search-result-list .list-item:first-child.active > .details')  \r\n      stickMetricDetails()\r\n      \r\n    #stick the metric details when scrolling \r\n    stickMetricDetails = () ->\r\n      if $(document).scrollTop() > 56\r\n        activeDetails.addClass 'stick'\r\n      else\r\n        activeDetails.removeClass 'stick'\r\n      \r\n      if($(window).scrollTop() > ($(\"#main\").height()-$(window).height()+300))\r\n        activeDetails.removeClass(\"stick\");\r\n    \r\n      return\r\n    \r\n    $(window).scroll ->\r\n      if(activeDetails)\r\n        stickMetricDetails()\r\n      \r\n      \r\n    toggleDetails = (toggle) ->\r\n      $(toggle).find('.glyphicon').toggleClass('glyphicon-triangle-bottom','glyphicon-triangle-right')\r\n      row = $(toggle).closest('.yinyang-row')\r\n    \r\n        \r\n      details = $(row).find('.details')\r\n      if details.is(':visible')\r\n        for hide_with_details in $(row).find('.hide-with-details') \r\n          $(hide_with_details).show()\r\n        for show_with_details in $(row).find('.show-with-details') \r\n          $(show_with_details).hide()\r\n        details.hide()\r\n      else if !$.trim(details.html()) # empty\r\n        card_slot = $(toggle).closest('.card-slot')\r\n        card_name = card_slot.attr('id')\r\n        if card_slot.hasClass(\"LTYPE_RTYPE-metric-company\")\r\n          # to re order the card name to get the metric details\r\n          card_names = card_name.split(\"+\")\r\n          card_name = card_names[2]+\"+\"+card_names[0]+\"+\"+card_names[1]+\"+yinyang_drag_item\"\r\n        view = $(toggle).data('view') || 'content'\r\n        right_name = $(toggle).data('append') \r\n        load_path = \"/#{card_name}+#{right_name}?view=#{view}\"\r\n        details.show()\r\n        for hide_with_details in $(row).find('.hide-with-details') \r\n          $(hide_with_details).hide()\r\n        for show_with_details in $(row).find('.show-with-details') \r\n          $(show_with_details).show()\r\n        $(details).load load_path, ->\r\n          $(details).trigger('slotReady')\r\n      else\r\n        for hide_with_details in $(row).find('.hide-with-details') \r\n          $(hide_with_details).hide()\r\n        for show_with_details in $(row).find('.show-with-details') \r\n          $(show_with_details).show()\r\n        details.show()\r\n      \r\n    \r\n    # filter\r\n      \r\n    $('body').on 'click','.votee-filter .filter-header', ->\r\n      $(this).find('.filter-toggle .glyphicon').toggleClass('glyphicon-triangle-bottom','glyphicon-triangle-right')\r\n      $(this).next().toggle()\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    ###*\r\n    # jQuery.fn.sortElements\r\n    # --------------\r\n    # @param Function comparator:\r\n    #   Exactly the same behaviour as [1,2,3].sort(comparator)\r\n    #   \r\n    # @param Function getSortable\r\n    #   A function that should return the element that is\r\n    #   to be sorted. The comparator will run on the\r\n    #   current collection, but you may want the actual\r\n    #   resulting sort to occur on a parent or another\r\n    #   associated element.\r\n    #   \r\n    #   E.g. $('td').sortElements(comparator, function(){\r\n    #      return this.parentNode; \r\n    #   })\r\n    #   \r\n    #   The <td>'s parent (<tr>) will be sorted instead\r\n    #   of the <td> itself.\r\n    ###\r\n    \r\n    jQuery.fn.sortElements = do ->\r\n      sort = [].sort\r\n      (comparator, getSortable) ->\r\n        getSortable = getSortable or ->\r\n          this\r\n        placements = @map(->\r\n          sortElement = getSortable.call(this)\r\n          parentNode = sortElement.parentNode\r\n          nextSibling = parentNode.insertBefore(document.createTextNode(''), sortElement.nextSibling)\r\n          ->\r\n            if parentNode == this\r\n              throw new Error('You can\\'t sort elements if any one is a descendant of another.')\r\n            # Insert before flag:\r\n            parentNode.insertBefore this, nextSibling\r\n            # Remove flag:\r\n            parentNode.removeChild nextSibling\r\n            return\r\n        )\r\n        sort.call(this, comparator).each (i) ->\r\n          placements[i].call getSortable.call(this)\r\n          return\r\n          \r\n    \r\n    for list in $('.yinyang-list')\r\n      if sortKey = $(list).data('default-sort')\r\n        sortDragItems(list, sortKey)\r\n        $(list).closest('.voting').find(\".filter-details .#{sortKey}\").tab('show')\r\n      if $(list).find('.drag-item:visible').length == 0\r\n        $(list).find('.empty-message').show()\r\n        \r\n    \r\n    \r\n            \r\n        \r\nwagn.slotReady (slot) ->\r\n  resizeIframe()\r\n  if(!$(\".timeline-row form\").is(\":visible\"))\r\n    $(\"._add_new_value\").show()\r\n  else\r\n    $(\"._add_new_value\").hide()\r\n  \r\n  handleDropEvent = ( event, ui ) ->\r\n    drag_item = ui.item \r\n    new_list = drag_item.parent()\r\n    if new_list.parent().is(old_list.parent()) # don't mix topics and metrics\r\n      updateHints(old_list, new_list)\r\n      update_path = drag_item.data('update-path') + '&' + $(new_list).data('query')\r\n      if next_item = $(drag_item).next('.drag-item')\r\n        update_path += '&insert-before=' + next_item.data('votee-id')\r\n      vote = drag_item.find('.vote-count') \r\n      $(vote).closest('.card-slot').load(update_path)\r\n    else\r\n      $( this ).sortable( \"cancel\" )\r\n  \r\n  old_list = null\r\n  \r\n  handleStopEvent = (event, ui) ->\r\n    new_list = ui.item.parent()\r\n    if !new_list.parent().is(old_list.parent())\r\n      $( this ).sortable( \"cancel\" )\r\n  \r\n  handleStartEvent = (event, ui) ->\r\n    old_list = ui.item.parent()\r\n    \r\n    \r\n  #if slot.hasClass('tab-content')# && (slot.hasClass('RIGHT-metric_sidebar') || slot.hasClass('RIGHT-topic_sidebar'))\r\n  \r\n  updateHints = (old_list, new_list) ->\r\n    if $(old_list).find('.drag-item:visible').length == 0\r\n      $(old_list).find('.unsaved-message').hide()\r\n      $(old_list).find('.empty-message').show()\r\n    $(new_list).find('.empty-message').hide()\r\n    $(new_list).find('.unsaved-message').show()\r\n  \r\n  \r\n  slot.find('.filter-details .filter').on 'click', ->\r\n    list = $(this).closest('.votee-filter').next().next() #('.list-drag-and-drop[data-bucket-name=no_vote]')\r\n    sortDragItems(list, $(this).data('sort-key'), $(this).data('sort-order'))\r\n  \r\n  slot.find('.voting .list-drag-and-drop').sortable\r\n      connectWith: '.voting .list-drag-and-drop'\r\n      items: \".drag-item\"\r\n      update: handleDropEvent\r\n      start: handleStartEvent\r\n      stop: handleStopEvent\r\n      dropOnEmpty: true\r\n      revert: false\r\n      \r\n  \r\n  "
      },
      {
        "name": "plain source form",
        "type": "HTML",
        "content": "{{+Link|titled; title:URL}}\r\n{{+File|titled; title:File}}\r\n{{+Text|titled; title:Text}}\r\n"
      },
      {
        "name": "metric details metric header+*right+*structure",
        "type": "HTML",
        "content": "<div class=\"metric-details-close-icon pull-right\t\"><i class=\"fa fa-times-circle fa-2x\"></i></div>\r\n<br>\r\n<div class=\"metric-details-header\">\r\n  \r\n    <div class=\"row clearfix \">\r\n              <div class=\"col-md-1\">\r\n                {{_lllr+_llr+*vote count}}\r\n              </div>  \r\n              <div class=\"col-md-11\">\r\n                <div class=\"name row\">\r\n                  <a class=\"inherit-anchor\" href=\"{{_lllr+_llr|url}}\">\r\n                  {{_llr|name}}\r\n                  </a>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"metric-designer-info\">\r\n                    <a href=\"/{{_lllr|name}}+contribution\">\r\n                      <div><small class=\"text-muted\">Designed by</small></div>\r\n                      <div>{{_lllr+logo|core;size:small}}</div>\r\n                      <div><h3>{{_lllr|name}}</h3></div>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n    </div>\r\n    <hr>\r\n    <div class=\"row clearfix wiki\">{{_l+metric details|content}}</div>\r\n    {{_lllr+_llr+metric value|timeline}}\r\n    <br>\r\n    <div class=\"row clearfix\">\r\n      <div class=\"data-item text-center\">\r\n        <span class=\"btn label-metric\">[[_lllr+_llr|Metric Details]]</span> \r\n      </div>\r\n    </div>   \r\n    <hr>\r\n    <div class=\"row discussion-container\">\r\n        <div class=\"row-icon\">\r\n          <i class=\"fa fa-comment\"></i>\r\n        </div>\r\n        <div class=\"row-data\">\r\n            {{_lllr+_llr+discussion|titled;title:Discussion; show:commentbox}}\r\n        </div>\r\n    </div>\r\n    \r\n</div>\r\n"
      }
    ]
  }
}