{
  "data": [
    {
      "name": "answers",
      "transform": [
        {
          "type": "formula",
          "as": "value",
          "expr": "toNumber(datum.value)"
        }
      ]
    },
    {
      "name": "extremes",
      "source": "answers",
      "transform": [
        {
          "type": "aggregate",
          "fields": [
            "value",
            "value"
          ],
          "ops": [
            "min",
            "max"
          ]
        }
      ]
    },
    {
      "name": "counts",
      "source": "answers",
      "transform": [
        {
          "type": "bin",
          "field": "value",
          "extent": {
            "signal": "extent"
          }
        },
        {
          "type": "aggregate",
          "key": "bin0",
          "groupby": [
            "bin0",
            "bin1"
          ],
          "fields": [
            "bin0"
          ],
          "ops": [
            "count"
          ],
          "as": [
            "count"
          ]
        },
        {
          "type" : "formula",
          "expr" : "{ value: { from: datum.bin0, to: datum.bin1 } }",
          "as" : "filter"
        }
      ]
    }
  ]
}
